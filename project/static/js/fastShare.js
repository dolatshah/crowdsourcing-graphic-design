if(typeof(stlib)=="undefined"){var stlib={}}if(!stlib.functions){stlib.functions=[];stlib.functionCount=0}stlib.global={};stlib.global.hash=document.location.href.split("#");stlib.global.hash.shift();stlib.global.hash=stlib.global.hash.join("#");stlib.dynamicOn=true;var widgetLogger={};stlib.gaLogger={configOptions:null,shareLog:function(a){if(typeof(widgetLogger.pubTracker)!="undefined"&&widgetLogger.pubTracker!=null&&typeof(widgetLogger.pubTracker._trackEvent)!="undefined"){if(stlib.gaLogger.configOptions){widgetLogger.pubTracker._trackEvent("ShareThis",a,stlib.gaLogger.configOptions.URL)}else{widgetLogger.pubTracker._trackEvent("ShareThis",a)}}if(typeof(window.postMessage)!=="undefined"&&document.referrer!==""){if(stlib.gaLogger.configOptions){parent.postMessage("ShareThis|click|"+a+"|"+stlib.gaLogger.configOptions.URL,document.referrer)}else{parent.postMessage("ShareThis|click|"+a,document.referrer)}}},initGA:function(c,a){stlib.gaLogger.configOptions=a;if(typeof(c)=="undefined"){_$de("tracker ID for GA required");return}if(typeof(_gat)=="undefined"){var b=(("https:"==document.location.protocol)?"https://ssl.":"http://www.")+"google-analytics.com/ga.js";stlib.scriptLoader.loadJavascript(b,function(){try{widgetLogger.ga=_gat._getTracker(c);if(typeof(widgetLogger.ga)!="undefined"&&widgetLogger.ga!==null&&typeof(widgetLogger.ga._trackEvent)!="undefined"){widgetLogger.ga._trackPageview();if(stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.tracking&&stlib.gaLogger.configOptions.publisherGA!==null){widgetLogger.pubTracker=_gat._getTracker(stlib.gaLogger.configOptions.publisherGA);widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)}else{if(stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.publisherGA!==null){widgetLogger.pubTracker=_gat._getTracker(stlib.gaLogger.configOptions.publisherGA);widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)}}}}catch(d){}})}else{if(typeof(widgetLogger.ga)!="undefined"&&widgetLogger.ga!==null&&typeof(widgetLogger.ga._trackEvent)!="undefined"){if(stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.tracking&&stlib.gaLogger.configOptions.publisherGA!=null){widgetLogger.pubTracker=_gat._getTracker(stlib.gaLogger.configOptions.publisherGA);widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)}}}},gaLog:function(b,d,a,c){if(typeof(widgetLogger.ga)!="undefined"&&widgetLogger.ga!==null&&typeof(widgetLogger.ga._trackEvent)!="undefined"){widgetLogger.ga._trackEvent(b,d,a,c)}}};stlib.sharer.oauth={callbacks:[],callbackCounter:1,API_Url:(("https:"==document.location.protocol)?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php",API_destinations:{facebook:"postFacebook",facebookfriend:"postFacebookUserWall",twitter:"postTwitter",yahoo:"postYahooPulse",linkedin:"postLinkedIn",blank:"postOauthError"},share:function(f){var e=stlib.sharer.oauth.API_destinations[stlib.data.shareInfo.destination];e=e?e:stlib.sharer.oauth.API_destinations.blank;if(stlib.data.shareInfo.destination=="facebookfriend"){stlib.data.shareInfo.destination="facebook"}var d=stlib.sharer.constructParamString();var c=stlib.sharer.oauth.callbackCounter+"ST";stlib.sharer.oauth.callbackCounter++;stlib.sharer.oauth.callbacks[c]=f;var a=stlib.cookie.getCookie("ShareUT");var b=stlib.cookie.getCookie("__stid");e=stlib.sharer.oauth.API_Url+d+"&service="+e+"&cb=stlib.sharer.oauth.callbacks['"+c+"']";_$d_();_$d1("Initiating an Oauth Share with the following url:");_$d2(e);stlib.scriptLoader.loadJavascript(e,function(){})}};var jsonp={};jsonp.makeRequest=function(a){stlib.scriptLoader.loadJavascript(a,function(){})};var jsUtilities=function(){return{clearTextArea:function(b){b=b||window.event;var a=b.target||b.srcElement;if(a.value==a.getAttribute("placeholder")){a.value=""}},fillTextArea:function(b){b=b||window.event;var a=b.target||b.srcElement;if(a.value==""){if(a.getAttribute("placeholder")==null){a.value=""}else{a.value=a.getAttribute("placeholder")}}},trimString:function(a){if(a==null){return""}return a.replace(/^\s+|\s+$/g,"")}}}();var fastShare=new function(){var d=document;var widgetOpen=false;var meta=document.getElementsByTagName("meta");var ogTitle,ogUrl;for(var i=0;i<meta.length;i++){if(meta[i].getAttribute("property")=="og:title"){ogTitle=meta[i].getAttribute("content")}else{if(meta[i].getAttribute("property")=="og:url"){ogUrl=meta[i].getAttribute("content")}}}for(var o in stFastShareObj){if(o=="title"||o=="message"||o=="summary"){try{stFastShareObj[o]=decodeURIComponent(stFastShareObj[o])}catch(err){}try{stFastShareObj[o]=decodeURIComponent(stFastShareObj[o])}catch(err){}}}var url=stFastShareObj.url;var title=stFastShareObj.title;var service=stFastShareObj.service;var username=stFastShareObj.username;var oldText="";var fsBox;var fsHTML='<div style="position:relative;margin-right:10px;margin-top:10px;"><div id="stOCClose" class="close">&nbsp;</div><h2 id="fsHeading">Hi <em id="fsUsername"></em>, share this on <span id="headingServiceName">&nbsp;</span></h2><div class="fsContainer" id="fs_mainBody"><p id="twCountMsg" style="display:none;">The message should be fewer than 117 characters.</p><textarea placeholder="KinGover" maxlength="1000" name="shareMessage" id="st_shareMessage">KinGover</textarea><img id="loadingImg" style="display:none;"/><div class="fsFooter"><a id="fsSignOut">Sign Out</a><span id="showMessage">Show Message</span><span id="st_twCounter" class="counter" style="display:none;"></span><a id="st_shareButton" class="ctaButton">Share</a></div></div><div id="fs_doneScreen" style="display:none;"><p id="fs_doneMsg">&nbsp;</p></div></div>';var sharCreated=false;var sharFetched=false;var currentService;var sharURL="";var twitterMessagePopulated=false;var sharPoller,fsLogger={};function stripHTML(oldString){return oldString.replace(/<.*?>/g,"")}function getPageSize(){var pScroll=[0,0,0,0];var scX=0;var scY=0;var winX=0;var winY=0;if(typeof(window.pageYOffset)=="number"){scX=window.pageXOffset;scY=window.pageYOffset}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){scX=document.body.scrollLeft;scY=document.body.scrollTop}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){scX=document.documentElement.scrollLeft;scY=document.documentElement.scrollTop}}}if(window.innerWidth){winX=window.innerWidth;winY=window.innerHeight}else{if(document.documentElement.offsetWidth){winX=document.documentElement.offsetWidth;winY=document.documentElement.offsetHeight}}pScroll={scrX:scX,scrY:scY,width:winX,height:winY};return pScroll}function getPosition(shareChicklet){function getHW(elem){var retH=0;var retW=0;var going=true;while(elem!=null){retW+=elem.offsetLeft;if(going){retH+=elem.offsetTop}if(window.getComputedStyle){if(document.defaultView.getComputedStyle(elem,null).getPropertyValue("position")=="fixed"){retH+=(document.documentElement.scrollTop||document.body.scrollTop);going=false}}else{if(elem.currentStyle){if(elem.currentStyle.position=="fixed"){retH+=(document.documentElement.scrollTop||document.body.scrollTop);going=false}}}elem=elem.offsetParent}return{height:retH,width:retW}}if(!shareChicklet){return false}var chicklet=shareChicklet;var curleft=curtop=0;var mPos=getHW(chicklet);curleft=mPos.width;curtop=mPos.height;var chicklet=shareChicklet;var eltop=0;var elleft=0;var topVal=0;var leftVal=0;var elemH=0;var elemW=0;eltop=curtop+chicklet.offsetHeight+5;elleft=curleft+4;topVal=eltop;topVal=eval(topVal);elemH=topVal;topVal+="px";leftVal=elleft;leftVal=eval(leftVal);elemW=leftVal;leftVal+="px";fsBox.style.top=topVal;fsBox.style.left=leftVal;fsBox.oldScroll=document.body.scrollTop;var pginfo=getPageSize();var effectiveH=pginfo.height+pginfo.scrY;var effectiveW=pginfo.width+pginfo.scrX;var widgetH=180;var widgetW=355;var needH=widgetH+elemH;var needW=widgetW+elemW;var diffH=needH-effectiveH;var diffW=needW-effectiveW;var newH=elemH-diffH;var newW=elemW-diffW;var buttonPos=getHW(chicklet);var leftA,rightA,topA,bottomA=false;if(diffH>0){bottomA=false;topA=true;if((buttonPos.height-widgetH)>0){newH=buttonPos.height-widgetH}fsBox.style.top=newH+"px"}if(diffW>0){leftA=false;rightA=true;if((buttonPos.width-widgetW)>0){newW=buttonPos.width-widgetW}fsBox.style.left=newW+"px"}if(shareChicklet.parentNode&&shareChicklet.parentNode.id=="stpulldownMain"){fsBox.style.position="fixed"}else{if(shareChicklet.parentNode&&shareChicklet.parentNode.parentNode&&shareChicklet.parentNode.parentNode.id=="sharebarMain"){fsBox.style.top=(newH-pginfo.scrY)+"px";fsBox.style.position="fixed"}else{if(shareChicklet.parentNode&&shareChicklet.parentNode.parentNode&&shareChicklet.parentNode.parentNode.id=="sthoverbuttonsMain"){fsBox.style.top=eval(eltop-pginfo.scrY)+"px";fsBox.style.position="fixed"}else{fsBox.style.position="absolute"}}}}function fillBox(chicklet){if(service=="twitter"){var shar;if(!sharFetched){shar="";createShar();clearInterval(sharPoller);sharPoller=setInterval(function(){shar=getSharURL();if(shar!=""){clearInterval(sharPoller);sharFetched=true;populateTwitterBox();clearInterval(sharPoller)}},1000)}else{populateTwitterBox()}}else{document.getElementById("st_shareMessage").value=document.getElementById("st_shareMessage").getAttribute("placeholder");if(stFastShareObj.message!=null&&stFastShareObj.message!=""&&stFastShareObj.message!="null"){document.getElementById("st_shareMessage").value=stFastShareObj.message}}updateCount()}function getMessageTemplate(){return template}function updateCount(){if(service=="twitter"){var count=117-document.getElementById("st_shareMessage").value.length;document.getElementById("st_twCounter").innerHTML=count;if(count<0){document.getElementById("st_twCounter").setAttribute("style","color:#FF0000;");document.getElementById("twCountMsg").style.display="block"}else{document.getElementById("st_twCounter").setAttribute("style","");document.getElementById("twCountMsg").style.display="none"}}}function editTemplate(){document.getElementById("editTemplate").style.display="none";document.getElementById("showMessage").style.display="inline";oldText=document.getElementById("st_shareMessage").value;document.getElementById("st_shareMessage").value=getTemplate();document.getElementById("st_twCounter").style.visibility="hidden";document.getElementById("st_shareButton").setAttribute("style","background:#888;")}function createShar(){if(url!==""&&url!==" "&&url!==null&&!sharCreated){if(stFastShareObj.shorten!=true){sharURL=url;sharCreated=true;return true}else{var data=["return=json","cb=fastShare.createShar_onSuccess","service=createSharURL","url="+encodeURIComponent(url)];data=data.join("&");jsonp.makeRequest((("https:"==document.location.protocol)?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+data)}}}function getSharURL(){return sharURL}function postMessage(){var data;var comment=stripHTML(document.getElementById("st_shareMessage").value);var twitterComment=comment;stlib.data.resetShareData();stlib.data.set("url",stFastShareObj.url,"shareInfo");stlib.data.set("sharURL",sharURL,"shareInfo");stlib.data.set("title",stFastShareObj.title,"shareInfo");stlib.data.set("buttonType",stFastShareObj.type,"shareInfo");stlib.data.set("destination",stFastShareObj.service,"shareInfo");stlib.data.setSource("fastShare");if(typeof(stFastShareObj.image)!="undefined"&&stFastShareObj.image!==""&&stFastShareObj.image!=null){stlib.data.set("image",stFastShareObj.image,"shareInfo")}if(typeof(stFastShareObj.summary)!="undefined"&&stFastShareObj.summary!==""&&stFastShareObj.summary!=null){stlib.data.set("description",stFastShareObj.summary,"shareInfo")}stlib.gaLogger.gaLog("Fast Share Complete",service);var mBox=document.getElementById("st_shareMessage");if(mBox.getAttribute("placeholder")==mBox.value){comment=""}var hasUrlInComment=comment.indexOf("http://shar.es");if(hasUrlInComment==-1){hasUrlInComment=comment.indexOf("http://qa.shar.es");if(hasUrlInComment==-1){hasUrlInComment=comment.indexOf("http://qa2.shar.es")}}if(service=="twitter"){if(twitterComment.length>117){var tUrl=twitterComment.slice(twitterComment.indexOf("http"),twitterComment.indexOf("http")+24);comment=twitterComment.slice(0,115)+" "+tUrl}}else{if(service.search("facebookfriend")!="-1"){var friendId=service.slice(service.indexOf("-")+1);stlib.data.set("friend_id",friendId,"shareInfo")}}stlib.data.set("comment",comment,"shareInfo");stlib.sharer.oauth.share(fastShare.postMessage_onSuccess)}function populateTwitterBox(){if(!twitterMessagePopulated){var appendString=stFastShareObj.title+" "+getSharURL();var mBox=document.getElementById("st_shareMessage");if(mBox.getAttribute("placeholder")==mBox.value){mBox.value=appendString}else{mBox.value+=" ";mBox.value+=appendString}if((stFastShareObj.via)!="undefined"&&stFastShareObj.via!=null){if(stFastShareObj.via!=""){mBox.value+=" via @"+stFastShareObj.via}}else{mBox.value+=" via @sharethis"}twitterMessagePopulated=true}updateCount()}function getURLInfo(){var data=["return=json","url="+encodeURIComponent(stFastShareObj.url),"cb=fastShare.fillURLInfo","service=getLiveUrlInfo"];data=data.join("&");jsonp.makeRequest((("https:"==document.location.protocol)?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+data)}function signOut(){deleteCookie("recents");deleteCookie("ShareUT");deleteCookie("stOAuth");document.getElementById("fsSignOut").style.display="none";document.getElementById("fsHeading").innerHTML='<em id="fsUsername"></em>Share this on <span id="headingServiceName">'+service+"</span>"}function deleteCookie(name){var _div=document.createElement("div");_div.setAttribute("id",name);_div.setAttribute("type","hidden");document.body.appendChild(_div);var div=document.getElementById(name),form=document.createElement("form");try{var iframe=document.createElement('<iframe name="'+name+'" ></iframe>')}catch(err){iframe=document.createElement("iframe")}iframe.name=name;iframe.src="javascript:false";iframe.style.display="none";div.appendChild(iframe);form.action=(("https:"==document.location.protocol)?"https://sharethis.com/":"http://sharethis.com/")+"account/deleteCookie.php";form.method="POST";var hiddenField=document.createElement("input");hiddenField.setAttribute("type","hidden");hiddenField.setAttribute("name","name");hiddenField.setAttribute("value",name);form.appendChild(hiddenField);form.target=name;div.appendChild(form);form.submit()}return{returnTemplate:function(){return template},createFastShare:function(){var docBody=document.getElementsByTagName("body")[0];var fsWrapper=document.createElement("div");fsWrapper.innerHTML=fsHTML;fsWrapper.setAttribute("id","stOCWrapper");fsWrapper.className="fsWrapper";fsWrapper.style.display="block";docBody.appendChild(fsWrapper);fsBox=document.getElementById("stOCWrapper")},initWidget:function(){var cssUrl=(("https:"==document.location.protocol)?"https://ws.sharethis.com/button/css/fastShare-secure.css":"http://w.sharethis.com/button/css/fastShare.css");stlib.scriptLoader.loadCSS(cssUrl,function(){});fastShare.createFastShare();document.getElementById("fsSignOut").onclick=function(e){signOut(e)};document.getElementById("stOCClose").onclick=function(e){fastShare.hideWidget(e)};document.getElementById("st_shareMessage").onkeyup=function(e){updateCount(e)};document.getElementById("st_shareButton").onclick=function(e){createShar();clearInterval(sharPoller);sharPoller=setInterval(function(){shar=getSharURL();if(shar!=""){clearInterval(sharPoller);sharFetched=true;document.getElementById("loadingImg").style.display="inline";document.getElementById("loadingImg").src="http://w.sharethis.com/images/spinner.gif";postMessage();clearInterval(sharPoller)}},1000)};document.getElementById("st_shareMessage").onfocus=function(e){jsUtilities.clearTextArea(e)};document.getElementById("st_shareMessage").onblur=function(e){jsUtilities.fillTextArea(e)};stlib.gaLogger.initGA("UA-1645146-17")},hideWidget:function(){document.getElementById("stOCWrapper").style.display="none";widgetOpen=false},showWidget:function(){sharCreated=false;if(widgetOpen==true){fastShare.hideWidget();return false}stlib.gaLogger.gaLog("Fast Share",stFastShareObj.service);var target=stFastShareObj.element;service=stFastShareObj.service;username=stFastShareObj.username;document.getElementById("fsUsername").innerHTML=username;document.getElementById("fsSignOut").style.display="inline";if(url!=stFastShareObj.url){url=stFastShareObj.url;title=stFastShareObj.title;sharFetched=false;twitterMessagePopulated=false;document.getElementById("st_shareMessage").value=document.getElementById("st_shareMessage").getAttribute("placeholder");if(stFastShareObj.message!=null&&stFastShareObj.message!=""&&stFastShareObj.message!="null"){document.getElementById("st_shareMessage").value=stFastShareObj.message}}if(service!="twitter"){if((typeof(stFastShareObj.image)=="undefined"||stFastShareObj.image===""||stFastShareObj.image==null)||(typeof(stFastShareObj.summary)=="undefined"||jsUtilities.trimString(stFastShareObj.summary)===""&&stFastShareObj.summary==null)){getURLInfo()}}document.getElementById("twCountMsg").style.display="none";if(service=="twitter"){document.getElementById("st_twCounter").style.display="inline";twitterMessagePopulated=false;document.getElementById("st_shareMessage").value=document.getElementById("st_shareMessage").getAttribute("placeholder");if(stFastShareObj.message!=null&&stFastShareObj.message!=""&&stFastShareObj.message!="null"){document.getElementById("st_shareMessage").value=stFastShareObj.message}}else{document.getElementById("st_twCounter").style.display="none"}document.getElementById("headingServiceName").innerHTML=service;getPosition(target);document.getElementById("stOCWrapper").style.display="block";document.getElementById("fs_mainBody").style.display="block";document.getElementById("fs_doneScreen").style.display="none";fillBox(target);widgetOpen=true},fillURLInfo:function(response){if(response&&response.status=="SUCCESS"){if(typeof(stFastShareObj.image)=="undefined"||stFastShareObj.image===""||stFastShareObj.image==null){if((typeof(response.urls[0].img)!="undefined"&&response.urls[0].img!="null"&&response.urls[0].img!=""&&response.urls[0].img.indexOf("http://sharethis.com/share/thumb")==-1)||(response.urls[0].imagehash&&response.urls[0].imagehash!="")){if(response.urls[0].imagehash&&response.urls[0].imagehash!=""){stFastShareObj.image="http://img.sharethis.com/"+response.urls[0].imagehash+"/100_100.jpg"}else{stFastShareObj.image=response.urls[0].img}}}if(typeof(stFastShareObj.summary)=="undefined"||jsUtilities.trimString(stFastShareObj.summary)===""||stFastShareObj.summary==null){if(typeof(response.urls[0].snippet)!="undefined"){stFastShareObj.summary=response.urls[0].snippet}}}},createShar_onSuccess:function(response){if(response&&response.status=="SUCCESS"){sharURL=response.data.sharURL;sharCreated=true}else{sharURL=url}},reloginFacebook_onSuccess:function(){widgetOpen=false;fastShare.showWidget()},postMessage_onSuccess:function(response){document.getElementById("fs_mainBody").style.display="none";document.getElementById("fs_doneScreen").style.display="block";document.getElementById("loadingImg").style.display="none";if(response&&response.status=="SUCCESS"){document.getElementById("fs_doneMsg").innerHTML="Your message was successfully shared!";document.getElementById("twCountMsg").style.display="none";if(stFastShareObj.element){var children=stFastShareObj.element.getElementsByTagName("*");for(var i=0;i<children.length;i++){if(children[i].className=="stBubble_hcount"||children[i].className=="stBubble_count"){if(!isNaN(children[i].innerHTML)){children[i].innerHTML=Number(children[i].innerHTML)+1}}}}}else{if(response&&response.statusMessage=="MISSING_PARAMETER_TOKEN"){document.getElementById("fs_doneMsg").innerHTML="Sorry, it seems like you are not signed in."}else{if(response.statusMessage=="FACEBOOK_OAUTH_PERMISSIONS"||response.statusMessage=="FACEBOOK_GET_PERMISSIONS_FAILED"||response.statusMessage=="FACEBOOK_OAUTH_TOKEN_EXPIRED"||response.statusMessage=="FACEBOOK_PERMISSIONS_MISSING"||response.statusMessage=="FACEBOOK_POST_FAILED"){document.getElementById("fs_doneMsg").innerHTML="Sorry, your Facebook authorization has expired. Click <a id='fsSignIn'>here</a> to login.";document.getElementById("fsSignIn").onclick=function(e){if(typeof(stlib.OAuthLoginIframe)=="undefined"){stLight.odjs((("https:"==document.location.protocol)?"https://ws.sharethis.com/button/login.js":"http://w.sharethis.com/button/login.js"),function(){stlib.OAuthLoginIframe.createOAuthLoginIframe("facebook",fastShare.reloginFacebook_onSuccess)})}else{stlib.OAuthLoginIframe.createOAuthLoginIframe("facebook",fastShare.reloginFacebook_onSuccess)}}}else{document.getElementById("fs_doneMsg").innerHTML="Sorry, there was an error. Please try again later."}}}}}}();fastShare.initWidget();